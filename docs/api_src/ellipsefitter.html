<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>EllipseFitter &#8212; SONIC  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ellipsoid" href="ellipsoid.html" />
    <link rel="prev" title="EdgeFinder" href="edgefinder.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ellipsefitter">
<h1>EllipseFitter<a class="headerlink" href="#ellipsefitter" title="Link to this heading">¶</a></h1>
<dl class="mat class" id="module-+sonic">
<dt class="sig sig-object mat" id="sonic.EllipseFitter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sonic.</span></span><span class="sig-name descname"><span class="pre">EllipseFitter</span></span><a class="headerlink" href="#sonic.EllipseFitter" title="Link to this definition">¶</a></dt>
<dd><p>This software is made available under the MIT license.
See SONIC/LICENSE for details.</p>
<div class="members docutils container">
<dl>
<dt>Method Summary</dt><dd><dl class="mat staticmethod">
<dt class="sig sig-object mat" id="sonic.EllipseFitter.fitEllipse">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">fitEllipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ellipsePts</span></em>, <em class="sig-param"><span class="pre">method_str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sonic.EllipseFitter.fitEllipse" title="Link to this definition">¶</a></dt>
<dd><p>Performs an ellipse fitting to (x,y) points, given a particular
fitting method. Currently can perform least-squares, semi-hyper
least squares and hyper least squares fits.</p>
<p>NOTE: Returns both implicit and explicit solutions, since at
times the conic’s implicit solution won’t be stable enough to
convert back to explicit solution without recentering</p>
<p>NOTE: The code in this work is largely based off of the
following references:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kanatani, K., &amp; Rangarajan, P. (2011). “Hyper least
squares fitting of circles and ellipses.” Computational
Statistics &amp; Data Analysis, 55(6), 2197-2208.</p></li>
<li><p>Krause, M., Price, J., &amp; Christian, J. A., “Analytical
Methods in Crater Rim Fitting and Pattern Recognition.”
AAS/AIAA Astrodynamics Specialist Conference,
Paper AAS 23-350, Big Sky, MT, 12-17 Aug 2023.</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Inputs:</dt><dd><ul class="simple">
<li><p>ellipsePts (sonic.Points2): X,Y vals of 2D points to fit</p></li>
<li><p>method_str (1x1 string): String specifying which type of
ellipse fitting operation to perform. Can be ‘ls’ for
least-squares, ‘shls’ for semi-hyper least squares, or
‘hls’ for hyper least squares</p></li>
</ul>
</dd>
<dt>Outputs:</dt><dd><ul class="simple">
<li><p>conicObj (1,1) sonic.Conic: conic object for solution</p></li>
</ul>
</dd>
</dl>
<p>Last revised: Nov 15, 2024
Last author: Tara Mina</p>
</dd></dl>

<dl class="mat staticmethod">
<dt class="sig sig-object mat" id="sonic.EllipseFitter.getEllipseCovariance">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">getEllipseCovariance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">conicObj</span></em>, <em class="sig-param"><span class="pre">ellipsePts</span></em>, <em class="sig-param"><span class="pre">sigsqrXY</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sonic.EllipseFitter.getEllipseCovariance" title="Link to this definition">¶</a></dt>
<dd><p>Compute analytical covariance of implicit solution for
ellipse fitting.</p>
<p>Derivation of HLS covariance originally from Kanatani
&amp; Rangarajan (2011) and is also readily accessible in
Krause, Price, &amp; Christian (2023). This function uses the same
notation as in Krause, et al. (2023).</p>
<p>NOTE: The choice of normalization factor, N, of the different
ellipse fitting methods affects the bias of the implicit
ellipse solution, but not the standard deviation. Thus, this
same function can be used to compute the covariance for all
ellipse fitting methods.</p>
<p>NOTE: This function implements Equation (45h) in
Krause, et al. (2023). But, there are 2 typos:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>last term M_pseudoinverse should be transposed (though
because M is symmetric, its pseudoinverse should also be
symmetric)</p></li>
<li><p>P_a should have a (1/n^2) factor  multiplied to it
(should also be in Eqs. 45 b-h), where n is number of
point samples</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Inputs:</dt><dd><ul class="simple">
<li><p>conicObj (1x1 sonic.Conic): conic fit, as computed by
a particular ellipse fitting method</p></li>
<li><p>ellipsePts (sonic.Points2): X,Y vals of 2D points on
the edge of the ellipse, to fit</p></li>
<li><p>sigsqrXY – variance (squared std dev) of x and y
coordinates (assumed that noise in 2D points are
isometric)</p></li>
</ul>
</dd>
<dt>Outputs:</dt><dd><ul class="simple">
<li><p>Pa – covariance (6x6) of the implicit solution</p></li>
</ul>
</dd>
</dl>
<p>Last revised: Sep 24, 2024
Last author: Tara Mina</p>
</dd></dl>

</dd>
</dl>
</div>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">SONIC</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing SONIC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples with SONIC</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API</a><ul>
      <li>Previous: <a href="edgefinder.html" title="previous chapter">EdgeFinder</a></li>
      <li>Next: <a href="ellipsoid.html" title="next chapter">Ellipsoid</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, SEAL.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/api_src/ellipsefitter.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>